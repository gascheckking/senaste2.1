document.addEventListener("DOMContentLoaded", () => {
  const walletDisplay = document.getElementById("headerWalletAddress");
  const connectBtn = document.getElementById("connectWallet");

  let userAddress = null;

  connectBtn.addEventListener("click", async () => {
    if (window.ethereum) {
      try {
        const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
        userAddress = accounts[0];
        walletDisplay.innerText = userAddress.slice(0, 6) + "..." + userAddress.slice(-4);
        document.getElementById("connectedWalletInfo").style.display = "flex";
        connectBtn.style.display = "none";
      } catch {
        alert("Connection failed");
      }
    } else {
      alert("No wallet found");
    }
  });

  // Dummy XP streak
  document.getElementById("headerXP").innerText = "300 XP";
  document.getElementById("headerStreak").innerText = "5";

  // Dummy Activity Feed
  const activityFeed = document.getElementById("transactionFeed");
  activityFeed.innerHTML = `
    <div class="tx">âœ… Minted Token #123 via Zora</div>
    <div class="tx">ðŸ›’ Bought NFT on OpenSea</div>
    <div class="tx">ðŸ“¤ Sent 0.001 ETH</div>
  `;
});
